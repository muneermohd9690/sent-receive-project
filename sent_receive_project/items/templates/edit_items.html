{% extends 'mainpage.html' %}

{% block content %}
<div class="container">
  <h2>Available Items</h2>
  <input class="form-control" id="myInput" type="text" placeholder="Search..">
  <div class="table-responsive">
      <table class="table table-bordered">
          <thead class="table-secondary">
          <tr>
              <th>Item Description</th>
              <th>Model Number</th>
              <th>Quantity</th>
              <th>Action</th>
          </tr>
          </thead>
          <tbody id="myTable">
          {% for item in items %}
          <tr>
              <td>{{item.description}}</td>
              <td>{{item.model_no}}</td>
              <td>{{item.total_qty}}</td>
              <td><a href="{% url 'edit_items_form' item.id %}" class="btn btn-info">Edit</a></td>
          </tr>
          {% endfor %}
          </tbody>
      </table>

    </div>
<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});

</script>
</div>
<script>
  // Get the element representing the current page
  var currentPageElement = document.getElementById('currentPage');

  // Set the breadcrumb text content to "Items / Add Item Details"
  currentPageElement.textContent = "Items / Edit Items";

  // Get the <h6> element representing "TEMPLATE"
  var templateElement = document.querySelector('h6.font-weight-bolder.mb-0');

  // Update the text content of the <h6> element to "Edit Items"
  templateElement.textContent = "Edit Items";
</script>
{% endblock %}